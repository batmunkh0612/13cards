const cards = [
    // <<<--- Diamond Start --->>>
    {
        id: 'A',
        name: 'diamond',
        nameRank: 1,
        img: '',
        rank: 12,

    },
    {
        id: 'K',
        name: 'diamond',
        nameRank: 1,
        img: '',
        rank: 11,
    },
    {
        id: 'Q',
        name: 'diamond',
        nameRank: 1,
        img: '',
        rank: 10,
    },
    {
        id: 'J',
        name: 'diamond',
        nameRank: 1,
        img: '',
        rank: 9,
    },
    {
        id: '10',
        name: 'diamond',
        nameRank: 1,
        img: '',
        rank: 8,
    },
    {
        id: '9',
        name: 'diamond',
        nameRank: 1,
        img: '',
        rank: 7,
    },
    {
        id: '8',
        name: 'diamond',
        nameRank: 1,
        img: '',
        rank: 6,
    },
    {
        id: '7',
        name: 'diamond',
        nameRank: 1,
        img: '',
        rank: 5,
    },
    {
        id: '6',
        name: 'diamond',
        nameRank: 1,
        img: '',
        rank: 4,
    },
    {
        id: '5',
        name: 'diamond',
        nameRank: 1,
        img: '',
        rank: 3,
    },
    {
        id: '4',
        name: 'diamond',
        nameRank: 1,
        img: '',
        rank: 2,
    },
    {
        id: '3',
        name: 'diamond',
        nameRank: 1,
        img: '',
        rank: 1,
    },
    {
        id: '2',
        name: 'diamond',
        nameRank: 1,
        img: '',
        rank: 13,
    },
    // <<<--- Diamond End --->>>
    // <<<--- Club Start --->>>
    {
        id: 'A',
        name: 'club',
        nameRank: 2,
        img: '',
        rank: 12,
    },
    {
        id: 'K',
        name: 'club',
        nameRank: 2,
        img: '',
        rank: 11,
    },
    {
        id: 'Q',
        name: 'club',
        nameRank: 2,
        img: '',
        rank: 10,
    },
    {
        id: 'J',
        name: 'club',
        nameRank: 2,
        img: '',
        rank: 9,
    },
    {
        id: '10',
        name: 'club',
        nameRank: 2,
        img: '',
        rank: 8,
    },
    {
        id: '9',
        name: 'club',
        nameRank: 2,
        img: '',
        rank: 7,
    },
    {
        id: '8',
        name: 'club',
        nameRank: 2,
        img: '',
        rank: 6,
    },
    {
        id: '7',
        name: 'club',
        nameRank: 2,
        img: '',
        rank: 5,
    },
    {
        id: '6',
        name: 'club',
        nameRank: 2,
        img: '',
        rank: 4,
    },
    {
        id: '5',
        name: 'club',
        nameRank: 2,
        img: '',
        rank: 3,
    },
    {
        id: '4',
        name: 'club',
        nameRank: 2,
        img: '',
        rank: 2,
    },
    {
        id: '3',
        name: 'club',
        nameRank: 2,
        img: '',
        rank: 1,
    },
    {
        id: '2',
        name: 'club',
        nameRank: 2,
        img: '',
        rank: 13,
    },
    // <<<--- Club End --->>>
    // <<<--- Heart Start --->>>
    {
        id: 'A',
        name: 'heart',
        nameRank: 3,
        img: '',
        rank: 12,
    },
    {
        id: 'K',
        name: 'heart',
        nameRank: 3,
        img: '',
        rank: 11,
    },
    {
        id: 'Q',
        name: 'heart',
        nameRank: 3,
        img: '',
        rank: 10,
    },
    {
        id: 'J',
        name: 'heart',
        nameRank: 3,
        img: '',
        rank: 9,
    },
    {
        id: '10',
        name: 'heart',
        nameRank: 3,
        img: '',
        rank: 8,
    },
    {
        id: '9',
        name: 'heart',
        nameRank: 3,
        img: '',
        rank: 7,
    },
    {
        id: '8',
        name: 'heart',
        nameRank: 3,
        img: '',
        rank: 6,
    },
    {
        id: '7',
        name: 'heart',
        nameRank: 3,
        img: '',
        rank: 5,
    },
    {
        id: '6',
        name: 'heart',
        nameRank: 3,
        img: '',
        rank: 4,
    },
    {
        id: '5',
        name: 'heart',
        nameRank: 3,
        img: '',
        rank: 3,
    },
    {
        id: '4',
        name: 'heart',
        nameRank: 3,
        img: '',
        rank: 2,
    },
    {
        id: '3',
        name: 'heart',
        nameRank: 3,
        img: '',
        rank: 1,
    },
    {
        id: '2',
        name: 'heart',
        nameRank: 3,
        img: '',
        rank: 13,
    },
    // <<<--- Heart End --->>>
    // <<<--- Spade Start --->>>
    {
        id: 'A',
        name: 'spade',
        nameRank: 4,
        img: '',
        rank: 12,
    },
    {
        id: 'K',
        name: 'spade',
        nameRank: 4,
        img: '',
        rank: 11,
    },
    {
        id: 'Q',
        name: 'spade',
        nameRank: 4,
        img: '',
        rank: 10,
    },
    {
        id: 'J',
        name: 'spade',
        nameRank: 4,
        img: '',
        rank: 9,
    },
    {
        id: '10',
        name: 'spade',
        nameRank: 4,
        img: '',
        rank: 8,
    },
    {
        id: '9',
        name: 'spade',
        nameRank: 4,
        img: '',
        rank: 7,
    },
    {
        id: '8',
        name: 'spade',
        nameRank: 4,
        img: '',
        rank: 6,
    },
    {
        id: '7',
        name: 'spade',
        nameRank: 4,
        img: '',
        rank: 5,
    },
    {
        id: '6',
        name: 'spade',
        nameRank: 4,
        img: '',
        rank: 4,
    },
    {
        id: '5',
        name: 'spade',
        nameRank: 4,
        img: '',
        rank: 3,
    },
    {
        id: '4',
        name: 'spade',
        nameRank: 4,
        img: '',
        rank: 2,
    },
    {
        id: '3',
        name: 'spade',
        nameRank: 4,
        img: '',
        rank: 1,
    },
    {
        id: '2',
        name: 'spade',
        nameRank: 4,
        img: '',
        rank: 13,
    },
    // <<<--- Spade End --->>>
]
let cardPicker = ($loopNum, $cardNum, $p, $pSave, $mArr) => {
    for (let i = 1; i < $loopNum; i++) {
        let rNum = Math.floor(Math.random() * ($cardNum - 1 + 1)) + 1
        if (rNum === $cardNum + 1 || rNum === 0) {
            $loopNum++;
            continue;
        } else if (-1 != $pSave.indexOf(rNum)) {
            $loopNum++;
            continue;
        }
        $pSave.push(rNum)
        $p.push($mArr[rNum - 1]);
    }
}

let mainArrToplayerArr = ($saveCard, $mArr) => {
    for (let i = $saveCard.length - 1; i >= 0; i--) {
        $mArr.splice($saveCard[i] - 1, 1);
    }
}
let p1Arr = [];
let p2Arr = [];
let p3Arr = [];
const saveCard = [];
const saveCard1 = [];
const saveCard2 = [];
let player1Use = [];
let player2Use = [];
let player3Use = [];
let player4Use = [];
let gameArray = [];
let gameComboSave;

//  <<<--- Player1 Start --->>>
cardPicker(14, 52, p1Arr, saveCard, cards);
saveCard.sort(function(a, b) { return a - b });
mainArrToplayerArr(saveCard, cards);
//                              <<<--- Player1 End --->>>
//                              <<<--- Player2 Start --->>>
cardPicker(14, 39, p2Arr, saveCard1, cards);
saveCard1.sort(function(a, b) { return a - b });
mainArrToplayerArr(saveCard1, cards);
//                              <<<--- Player2 End --->>>
//                              <<<--- Player3 Start --->>>
cardPicker(14, 26, p3Arr, saveCard2, cards);
saveCard2.sort(function(a, b) { return a - b });
mainArrToplayerArr(saveCard2, cards);

//                              <<<--- Player4 Start --->>>
let p4Arr = cards;
// p1Arr = [{
//         id: 'A',
//         name: 'spade',
//         nameRank: 4,
//         img: '',
//         rank: 12,
//     },
//     {
//         id: 'K',
//         name: 'spade',
//         nameRank: 4,
//         img: '',
//         rank: 11,
//     },
//     {
//         id: 'Q',
//         name: 'spade',
//         nameRank: 4,
//         img: '',
//         rank: 10,
//     },
//     {
//         id: 'J',
//         name: 'spade',
//         nameRank: 4,
//         img: '',
//         rank: 9,
//     },
//     {
//         id: '10',
//         name: 'spade',
//         nameRank: 4,
//         img: '',
//         rank: 8,
//     },
//     {
//         id: '9',
//         name: 'spade',
//         nameRank: 4,
//         img: '',
//         rank: 7,
//     },
//     {
//         id: '8',
//         name: 'spade',
//         nameRank: 4,
//         img: '',
//         rank: 6,
//     },
//     {
//         id: '7',
//         name: 'spade',
//         nameRank: 4,
//         img: '',
//         rank: 5,
//     },
//     {
//         id: '6',
//         name: 'spade',
//         nameRank: 4,
//         img: '',
//         rank: 4,
//     },
//     {
//         id: '5',
//         name: 'spade',
//         nameRank: 4,
//         img: '',
//         rank: 3,
//     },
//     {
//         id: '4',
//         name: 'spade',
//         nameRank: 4,
//         img: '',
//         rank: 2,
//     },
//     {
//         id: '3',
//         name: 'spade',
//         nameRank: 4,
//         img: '',
//         rank: 1,
//     },
//     {
//         id: '2',
//         name: 'spade',
//         nameRank: 4,
//         img: '',
//         rank: 13,
//     },
// ];
// p2Arr = [{
//         id: 'A',
//         name: 'heart',
//         nameRank: 3,
//         img: '',
//         rank: 12,
//     },
//     {
//         id: 'K',
//         name: 'heart',
//         nameRank: 3,
//         img: '',
//         rank: 11,
//     },
//     {
//         id: 'Q',
//         name: 'heart',
//         nameRank: 3,
//         img: '',
//         rank: 10,
//     },
//     {
//         id: 'J',
//         name: 'heart',
//         nameRank: 3,
//         img: '',
//         rank: 9,
//     },
//     {
//         id: '10',
//         name: 'heart',
//         nameRank: 3,
//         img: '',
//         rank: 8,
//     },
//     {
//         id: '9',
//         name: 'heart',
//         nameRank: 3,
//         img: '',
//         rank: 7,
//     },
//     {
//         id: '8',
//         name: 'heart',
//         nameRank: 3,
//         img: '',
//         rank: 6,
//     },
//     {
//         id: '7',
//         name: 'heart',
//         nameRank: 3,
//         img: '',
//         rank: 5,
//     },
//     {
//         id: '6',
//         name: 'heart',
//         nameRank: 3,
//         img: '',
//         rank: 4,
//     },
//     {
//         id: '5',
//         name: 'heart',
//         nameRank: 3,
//         img: '',
//         rank: 3,
//     },
//     {
//         id: '4',
//         name: 'heart',
//         nameRank: 3,
//         img: '',
//         rank: 2,
//     },
//     {
//         id: '3',
//         name: 'heart',
//         nameRank: 3,
//         img: '',
//         rank: 1,
//     },
//     {
//         id: '2',
//         name: 'heart',
//         nameRank: 3,
//         img: '',
//         rank: 13,
//     },
// ];
// p3Arr = [{
//         id: 'A',
//         name: 'club',
//         nameRank: 2,
//         img: '',
//         rank: 12,
//     },
//     {
//         id: 'K',
//         name: 'club',
//         nameRank: 2,
//         img: '',
//         rank: 11,
//     },
//     {
//         id: 'Q',
//         name: 'club',
//         nameRank: 2,
//         img: '',
//         rank: 10,
//     },
//     {
//         id: 'J',
//         name: 'club',
//         nameRank: 2,
//         img: '',
//         rank: 9,
//     },
//     {
//         id: '10',
//         name: 'club',
//         nameRank: 2,
//         img: '',
//         rank: 8,
//     },
//     {
//         id: '9',
//         name: 'club',
//         nameRank: 2,
//         img: '',
//         rank: 7,
//     },
//     {
//         id: '8',
//         name: 'club',
//         nameRank: 2,
//         img: '',
//         rank: 6,
//     },
//     {
//         id: '7',
//         name: 'club',
//         nameRank: 2,
//         img: '',
//         rank: 5,
//     },
//     {
//         id: '6',
//         name: 'club',
//         nameRank: 2,
//         img: '',
//         rank: 4,
//     },
//     {
//         id: '5',
//         name: 'club',
//         nameRank: 2,
//         img: '',
//         rank: 3,
//     },
//     {
//         id: '4',
//         name: 'club',
//         nameRank: 2,
//         img: '',
//         rank: 2,
//     },
//     {
//         id: '3',
//         name: 'club',
//         nameRank: 2,
//         img: '',
//         rank: 1,
//     },
//     {
//         id: '2',
//         name: 'club',
//         nameRank: 2,
//         img: '',
//         rank: 13,
//     },
// ];
// let p4Arr = [{
//         id: 'A',
//         name: 'diamond',
//         nameRank: 1,
//         img: '',
//         rank: 12,

//     },
//     {
//         id: 'K',
//         name: 'diamond',
//         nameRank: 1,
//         img: '',
//         rank: 11,
//     },
//     {
//         id: 'Q',
//         name: 'diamond',
//         nameRank: 1,
//         img: '',
//         rank: 10,
//     },
//     {
//         id: 'J',
//         name: 'diamond',
//         nameRank: 1,
//         img: '',
//         rank: 9,
//     },
//     {
//         id: '10',
//         name: 'diamond',
//         nameRank: 1,
//         img: '',
//         rank: 8,
//     },
//     {
//         id: '9',
//         name: 'diamond',
//         nameRank: 1,
//         img: '',
//         rank: 7,
//     },
//     {
//         id: '8',
//         name: 'diamond',
//         nameRank: 1,
//         img: '',
//         rank: 6,
//     },
//     {
//         id: '7',
//         name: 'diamond',
//         nameRank: 1,
//         img: '',
//         rank: 5,
//     },
//     {
//         id: '6',
//         name: 'diamond',
//         nameRank: 1,
//         img: '',
//         rank: 4,
//     },
//     {
//         id: '5',
//         name: 'diamond',
//         nameRank: 1,
//         img: '',
//         rank: 3,
//     },
//     {
//         id: '4',
//         name: 'diamond',
//         nameRank: 1,
//         img: '',
//         rank: 2,
//     },
//     {
//         id: '3',
//         name: 'diamond',
//         nameRank: 1,
//         img: '',
//         rank: 1,
//     },
//     {
//         id: '2',
//         name: 'diamond',
//         nameRank: 1,
//         img: '',
//         rank: 13,
//     },
// ];

//                              <<<--- Player4 End --->>>


//                              <<<--- Draw function Create Start --->>>

// let Draw = ($pArr, $pUse, $p, $colRow, $pUseString) => {
//     for (const i of $pArr) {
//         let $card = document.createElement('div');
//         let $id = document.createElement('p');
//         let $name = document.createElement('p');
//         $card.classList.add(`${$colRow}`);
//         $id.innerText = i.id;
//         $name.innerText = i.name;
//         $card.append($id, $name);
//         $card.onclick = () => {
//             if ($pUse.indexOf(i) != -1) {
//                 return 0;
//             };
//             if ($pUse.length === 5) {
//                 return 0;
//             }
//             $pUse.push(i);
//             document.querySelector(`.${$pUseString}`).append($card);
// $card.onclick = () => {
//         document.querySelector(`.${$p}`).append($card);
//         $pUse.splice($pUse.indexOf(i), 1);
//     }
//             let DeleteNum = $pArr.indexOf(i);
//             $pArr.splice(DeleteNum, 1);
//         }
//         document.querySelector(`.${$p}`).append($card);
//     }
// };
//                  <<<--- Draw function Create End --->>>
//                  <<<--- Draw Start --->>>
// Draw(p1Arr, player1Use, "player1", "card", "player1Use");
// Draw(p2Arr, player2Use, "player2", "card", "player2Use");
// Draw(p3Arr, player3Use, "player3", "colCard", "player3Use");
// Draw(p4Arr, player4Use, "player4", "colCard", "player4Use");

for (const i of p1Arr) {
    let $card = document.createElement('div');
    let $id = document.createElement('p');
    let $name = document.createElement('p');
    $card.classList.add('card');
    $id.innerText = i.id;
    $name.innerText = i.name;
    $card.append($id, $name);
    $card.onclick = () => {
        if (player1Use.indexOf(i) != -1) {
            return 0;
        };
        if (player1Use.length === 5) {
            return 0;
        }
        player1Use.push(i);
        document.querySelector('.player1Use').append($card);
        let DeleteNum = p1Arr.indexOf(i);
        p1Arr.splice(DeleteNum, 1);
    }
    document.querySelector('.player1').append($card);
}
for (const i of p2Arr) {
    let $card = document.createElement('div');
    let $id = document.createElement('p');
    let $name = document.createElement('p');
    $card.classList.add('card');
    $id.innerText = i.id;
    $name.innerText = i.name;
    $card.append($id, $name);
    $card.onclick = () => {
        if (player2Use.indexOf(i) != -1) {
            return 0;
        };
        if (player2Use.length === 5) {
            return 0;
        }
        player2Use.push(i);
        document.querySelector('.player2Use').append($card);
        let DeleteNum = p2Arr.indexOf(i);
        p2Arr.splice(DeleteNum, 1);
    }
    document.querySelector('.player2').append($card);
}
for (const i of p3Arr) {
    let $card = document.createElement('div');
    let $id = document.createElement('p');
    let $name = document.createElement('p');
    $card.classList.add('colCard');
    $id.innerText = i.id;
    $name.innerText = i.name;
    $card.append($id, $name);
    $card.onclick = () => {
        if (player3Use.indexOf(i) != -1) {
            return 0;
        };
        if (player3Use.length === 5) {
            return 0;
        }
        player3Use.push(i);
        document.querySelector('.player3Use').append($card);
        let DeleteNum = p3Arr.indexOf(i);
        p3Arr.splice(DeleteNum, 1);
    }
    document.querySelector('.player3').append($card);
}
for (const i of p4Arr) {
    let $card = document.createElement('div');
    let $id = document.createElement('p');
    let $name = document.createElement('p');
    $card.classList.add('colCard');
    $id.innerText = i.id;
    $name.innerText = i.name;
    $card.append($id, $name);
    $card.onclick = () => {
        if (player4Use.indexOf(i) != -1) {
            return 0;
        };
        if (player4Use.length === 5) {
            return 0;
        }
        player4Use.push(i);
        document.querySelector('.player4Use').append($card);
        let DeleteNum = p4Arr.indexOf(i);
        p4Arr.splice(DeleteNum, 1);
    }
    document.querySelector('.player4').append($card);
}
document.querySelector('.checkPlayer1-2').onclick = () => {
    if (player1Use.length === 0) {
        document.querySelector('.player1').innerHTML = "";
        for (const i of p1Arr) {
            let $card = document.createElement('div');
            let $id = document.createElement('p');
            let $name = document.createElement('p');
            $card.classList.add('card');
            $id.innerText = i.id;
            $name.innerText = i.name;
            $card.append($id, $name);
            $card.onclick = () => {
                if (player1Use.indexOf(i) != -1) {
                    return 0;
                };
                if (player1Use.length === 5) {
                    return 0;
                }
                player1Use.push(i);
                document.querySelector('.player1Use').append($card);
                let DeleteNum = p1Arr.indexOf(i);
                p1Arr.splice(DeleteNum, 1);
            }
            document.querySelector('.player1').append($card);
        }
    } else {
        for (const i of player1Use) {
            p1Arr.push(i);
        }
        player1Use = [];
        document.querySelector('.player1Use').innerHTML = "";
        document.querySelector('.player1').innerHTML = "";
        for (const i of p1Arr) {
            let $card = document.createElement('div');
            let $id = document.createElement('p');
            let $name = document.createElement('p');
            $card.classList.add('card');
            $id.innerText = i.id;
            $name.innerText = i.name;
            $card.append($id, $name);
            $card.onclick = () => {
                if (player1Use.indexOf(i) != -1) {
                    return 0;
                };
                if (player1Use.length === 5) {
                    return 0;
                }
                player1Use.push(i);
                document.querySelector('.player1Use').append($card);
                let DeleteNum = p1Arr.indexOf(i);
                p1Arr.splice(DeleteNum, 1);
            }
            document.querySelector('.player1').append($card);
        }
    }
}
document.querySelector('.checkPlayer2-2').onclick = () => {
    if (player2Use.length === 0) {
        document.querySelector('.player2').innerHTML = "";
        for (const i of p2Arr) {
            let $card = document.createElement('div');
            let $id = document.createElement('p');
            let $name = document.createElement('p');
            $card.classList.add('card');
            $id.innerText = i.id;
            $name.innerText = i.name;
            $card.append($id, $name);
            $card.onclick = () => {
                if (player2Use.indexOf(i) != -1) {
                    return 0;
                };
                if (player2Use.length === 5) {
                    return 0;
                }
                player2Use.push(i);
                document.querySelector('.player2Use').append($card);
                let DeleteNum = p2Arr.indexOf(i);
                p2Arr.splice(DeleteNum, 1);
            }
            document.querySelector('.player2').append($card);
        }
    } else {
        for (const i of player2Use) {
            p2Arr.push(i);
        }
        player2Use = [];
        document.querySelector('.player2Use').innerHTML = "";
        document.querySelector('.player2').innerHTML = "";
        for (const i of p2Arr) {
            let $card = document.createElement('div');
            let $id = document.createElement('p');
            let $name = document.createElement('p');
            $card.classList.add('card');
            $id.innerText = i.id;
            $name.innerText = i.name;
            $card.append($id, $name);
            $card.onclick = () => {
                if (player2Use.indexOf(i) != -1) {
                    return 0;
                };
                if (player2Use.length === 5) {
                    return 0;
                }
                player2Use.push(i);
                document.querySelector('.player2Use').append($card);
                let DeleteNum = p2Arr.indexOf(i);
                p2Arr.splice(DeleteNum, 1);
            }
            document.querySelector('.player2').append($card);
        }
    }
}

document.querySelector('.checkPlayer4-2').onclick = () => {
    if (player4Use.length === 0) {
        document.querySelector('.player4').innerHTML = "";
        for (const i of p4Arr) {
            let $card = document.createElement('div');
            let $id = document.createElement('p');
            let $name = document.createElement('p');
            $card.classList.add('colCard');
            $id.innerText = i.id;
            $name.innerText = i.name;
            $card.append($id, $name);
            $card.onclick = () => {
                if (player4Use.indexOf(i) != -1) {
                    return 0;
                };
                if (player4Use.length === 5) {
                    return 0;
                }
                player4Use.push(i);
                document.querySelector('.player4Use').append($card);
                let DeleteNum = p4Arr.indexOf(i);
                p4Arr.splice(DeleteNum, 1);
            }
            document.querySelector('.player4').append($card);
        }
    } else {
        for (const i of player4Use) {
            p4Arr.push(i);
        }
        player4Use = [];
        document.querySelector('.player4Use').innerHTML = "";
        document.querySelector('.player4').innerHTML = "";
        for (const i of p4Arr) {
            let $card = document.createElement('div');
            let $id = document.createElement('p');
            let $name = document.createElement('p');
            $card.classList.add('colCard');
            $id.innerText = i.id;
            $name.innerText = i.name;
            $card.append($id, $name);
            $card.onclick = () => {
                if (player4Use.indexOf(i) != -1) {
                    return 0;
                };
                if (player4Use.length === 5) {
                    return 0;
                }
                player4Use.push(i);
                document.querySelector('.player4Use').append($card);
                let DeleteNum = p4Arr.indexOf(i);
                p4Arr.splice(DeleteNum, 1);
            }
            document.querySelector('.player4').append($card);
        }
    }
}
document.querySelector('.checkPlayer3-2').onclick = () => {
    if (player3Use.length === 0) {
        document.querySelector('.player3').innerHTML = "";
        for (const i of p3Arr) {
            let $card = document.createElement('div');
            let $id = document.createElement('p');
            let $name = document.createElement('p');
            $card.classList.add('colCard');
            $id.innerText = i.id;
            $name.innerText = i.name;
            $card.append($id, $name);
            $card.onclick = () => {
                if (player3Use.indexOf(i) != -1) {
                    return 0;
                };
                if (player3Use.length === 5) {
                    return 0;
                }
                player3Use.push(i);
                document.querySelector('.player3Use').append($card);
                let DeleteNum = p3Arr.indexOf(i);
                p3Arr.splice(DeleteNum, 1);
            }
            document.querySelector('.player3').append($card);
        }
    } else {
        for (const i of player3Use) {
            p3Arr.push(i);
        }
        player3Use = [];
        console.log('1')
        document.querySelector('.player3Use').innerHTML = "";
        document.querySelector('.player3').innerHTML = "";
        for (const i of p3Arr) {
            let $card = document.createElement('div');
            let $id = document.createElement('p');
            let $name = document.createElement('p');
            $card.classList.add('colCard');
            $id.innerText = i.id;
            $name.innerText = i.name;
            $card.append($id, $name);
            $card.onclick = () => {
                if (player3Use.indexOf(i) != -1) {
                    return 0;
                };
                if (player3Use.length === 5) {
                    return 0;
                }
                player3Use.push(i);
                document.querySelector('.player3Use').append($card);
                let DeleteNum = p3Arr.indexOf(i);
                p3Arr.splice(DeleteNum, 1);
            }
            document.querySelector('.player3').append($card);
        }
    }
}

document.querySelector('.checkPlayer1-1').onclick = () => {
    document.querySelector('.checkPlayer1-1').disabled = true;
    document.querySelector('.checkPlayer4-1').disabled = false;
    document.querySelector('.checkPlayer4').disabled = false;
    document.querySelector('.checkPlayer1').disabled = true;
}
document.querySelector('.checkPlayer4-1').onclick = () => {
    document.querySelector('.checkPlayer2-1').disabled = false;
    document.querySelector('.checkPlayer4-1').disabled = true;
    document.querySelector('.checkPlayer2').disabled = false;
    document.querySelector('.checkPlayer4').disabled = true;
}
document.querySelector('.checkPlayer2-1').onclick = () => {
    document.querySelector('.checkPlayer3-1').disabled = false;
    document.querySelector('.checkPlayer2-1').disabled = true;
    document.querySelector('.checkPlayer3').disabled = false;
    document.querySelector('.checkPlayer2').disabled = true;
}
document.querySelector('.checkPlayer3-1').onclick = () => {
    document.querySelector('.checkPlayer1-1').disabled = false;
    document.querySelector('.checkPlayer3-1').disabled = true;
    document.querySelector('.checkPlayer1').disabled = false;
    document.querySelector('.checkPlayer3').disabled = true;
}


//                  <<<--- Draw End --->>>

//                  <<<--- firstMove Start --->>>
let firstMove1 = p1Arr.findIndex((p1Arr) => {
    if (p1Arr.name === "diamond" && p1Arr.rank === 1) {
        return 1;
    }
});
let firstMove2 = p2Arr.findIndex((p2Arr) => {
    if (p2Arr.name === "diamond" && p2Arr.rank === 1) {
        return 1;
    }

});
let firstMove3 = p3Arr.findIndex((p3Arr) => {
    if (p3Arr.name === "diamond" && p3Arr.rank === 1) {
        return 1;
    }

});
let firstMove4 = p4Arr.findIndex((p4Arr) => {
    if (p4Arr.name === "diamond" && p4Arr.rank === 1) {
        return 1;
    }
});
if (firstMove1 > -1) {
    document.querySelector('.gameChoice').innerText = "player1Move";
    document.querySelector('.checkPlayer4').disabled = "true";
    document.querySelector('.checkPlayer3').disabled = "true";
    document.querySelector('.checkPlayer2').disabled = "true";
    document.querySelector('.checkPlayer2-1').disabled = true;
    document.querySelector('.checkPlayer3-1').disabled = true;
    document.querySelector('.checkPlayer4-1').disabled = true;


} else if (firstMove2 > -1) {

    document.querySelector('.gameChoice').innerText = "player3Move";
    document.querySelector('.checkPlayer1').disabled = "true";
    document.querySelector('.checkPlayer3').disabled = "true";
    document.querySelector('.checkPlayer4').disabled = "true";
    document.querySelector('.checkPlayer1-1').disabled = true;
    document.querySelector('.checkPlayer3-1').disabled = true;
    document.querySelector('.checkPlayer4-1').disabled = true;
} else if (firstMove3 > -1) {

    document.querySelector('.gameChoice').innerText = "player4Move";
    document.querySelector('.checkPlayer1').disabled = "true";
    document.querySelector('.checkPlayer2').disabled = "true";
    document.querySelector('.checkPlayer4').disabled = "true";
    document.querySelector('.checkPlayer1-1').disabled = true;
    document.querySelector('.checkPlayer2-1').disabled = true;
    document.querySelector('.checkPlayer4-1').disabled = true;
} else if (firstMove4 > -1) {

    document.querySelector('.gameChoice').innerText = "player2Move";
    document.querySelector('.checkPlayer1').disabled = "true";
    document.querySelector('.checkPlayer2').disabled = "true";
    document.querySelector('.checkPlayer3').disabled = "true";
    document.querySelector('.checkPlayer1-1').disabled = true;
    document.querySelector('.checkPlayer2-1').disabled = true;
    document.querySelector('.checkPlayer3-1').disabled = true;
}



//                  <<<--- firstMove End --->>>
//                  <<<--- playerCheck btn click Start --->>>

let clone = 0;
document.querySelector('.checkPlayer1').onclick = () => {
    UseCheck(player1Use, 1)
};
document.querySelector('.checkPlayer2').onclick = () => {
    UseCheck(player2Use, 2)
};
document.querySelector('.checkPlayer3').onclick = () => {
    UseCheck(player3Use, 3)
};
document.querySelector('.checkPlayer4').onclick = () => {
    UseCheck(player4Use, 4)
};

//                  <<<--- playerCheck btn click  End --->>>

//                  <<<--- playercheck function Start --->>>
let yourselfCheck = [];
let yourselfNum;
let problem = false;
let UseCheck = (arra, num) => {
    if (yourselfCheck === gameArray && yourselfNum === num) {
        gameArray = [];
    }
    yourselfCheck = arra;
    yourselfNum = num;
    if (arra === player1Use) {
        document.querySelector('.checkPlayer4').disabled = false;
        document.querySelector('.checkPlayer1').disabled = true;
        document.querySelector('.checkPlayer2-1').disabled = true;
        document.querySelector('.checkPlayer3-1').disabled = true;
        document.querySelector('.checkPlayer1-1').disabled = true;
        document.querySelector('.checkPlayer4-1').disabled = false;


    } else if (arra === player2Use) {
        document.querySelector('.checkPlayer3').disabled = false;
        document.querySelector('.checkPlayer2').disabled = true;
        document.querySelector('.checkPlayer1-1').disabled = true;
        document.querySelector('.checkPlayer2-1').disabled = true;
        document.querySelector('.checkPlayer4-1').disabled = true;
        document.querySelector('.checkPlayer3-1').disabled = false;


    } else if (arra === player3Use) {
        document.querySelector('.checkPlayer1').disabled = false;
        document.querySelector('.checkPlayer3').disabled = true;
        document.querySelector('.checkPlayer2-1').disabled = true;
        document.querySelector('.checkPlayer3-1').disabled = true;
        document.querySelector('.checkPlayer4-1').disabled = true;
        document.querySelector('.checkPlayer1-1').disabled = false;


    } else if (arra === player4Use) {
        document.querySelector('.checkPlayer2').disabled = false;
        document.querySelector('.checkPlayer4').disabled = true;
        document.querySelector('.checkPlayer1-1').disabled = true;
        document.querySelector('.checkPlayer3-1').disabled = true;
        document.querySelector('.checkPlayer4-1').disabled = true;
        document.querySelector('.checkPlayer2-1').disabled = false;

    };
    // <<<--- set Start --->>>
    if (gameArray.length != 0) {
        if (arra.length === 3) {
            clone = 1;
            for (let i = 1; i < arra.length; i++) {
                if (arra[0].id === arra[i].id) {
                    clone++;
                }
            }
            if (clone === 3) {
                numCheck(num, arra);
                btnTurnOnOff(arra);
                return 0;
            }
        }
        // <<<--- set End --->>>
        // <<<--- Two End --->>>
        else if (arra.length === 2) {
            if (arra[0].id === arra[1].id) {
                numCheck(num, arra);
                btnTurnOnOff(arra);
                return 0;
            } else {
                alert('card buruu bn');
                btnTurnOnOffError(arra);
            }
        }
        // <<<--- Two End --->>>
        // <<<--- One Start --->>>
        else if (arra.length === 1) {
            numCheck(num, arra);
            btnTurnOnOff(arra);
            return 0;
        }
        // <<<--- One End --->>>
        else if (arra.length === 5) {
            // <<<--- Straight flush Start --->>>
            if (gameComboSave === "strFlush" || gameComboSave === "flush" || gameComboSave === "straight" || gameComboSave === "bongo" || gameComboSave === "pul") {
                let player1Sort = [];
                for (let rank of arra) {
                    player1Sort.push(rank.rank);
                }
                player1Sort.sort(function(a, b) {
                    return a - b;
                });

                let firstNum = player1Sort[0];
                firstNum = firstNum + 4;
                clone = 1;
                for (let i = 1; i < arra.length; i++) {
                    if (arra[0].name === arra[i].name) {
                        clone++;
                    }
                }
                let gameMaxNum = 0;
                for (let max of gameArray) {
                    if (gameMaxNum < max.rank) {
                        gameMaxNum = max.rank;
                    }
                }
                if (firstNum === player1Sort[4] && clone === 5 && player1Sort[4] > gameMaxNum) {
                    console.log('unen');
                    powerCheck(num);
                    btnTurnOnOff(arra);
                    gameComboSave = "strFlush";
                    return 0;
                } else if (player1Sort[4] === gameMaxNum) {
                    console.log('tentsuu');
                    flushCheck(num, arra);
                    btnTurnOnOff(arra);
                    gameComboSave = "strFlush";
                    return 0;
                }

                // <<<--- Straight flush End --->>>
                // <<<--- Flush Start --->>>

            };
            if (gameComboSave === "flush" || gameComboSave === "straight") {

                clone = 1;
                for (let i = 1; i < arra.length; i++) {
                    if (arra[0].name === arra[i].name) {
                        clone++;
                    }
                }

                if (clone === 5) {
                    flushCheck(num, arra);
                    btnTurnOnOff(arra);
                    gameComboSave = "strFlush";
                    return 0;
                }
            } // <<<--- Flush End --->>>
            // <<<--- Pul Start --->>>
            if (gameComboSave === "pul" || gameComboSave === "straight" || gameComboSave === "flush") {
                console.log('hate');
                let $three, $two;
                let a;
                clone = 1;
                for (let i = 1; i < arra.length; i++) {
                    if (arra[0].id === arra[i].id) {
                        clone++;
                    } else {
                        a = i;
                    }
                }
                if (clone === 2) {
                    $two = arra[0].rank;
                    clone = 1;
                    for (let i = 0; i < arra.length; i++) {
                        if (a === i) {
                            continue;
                        }
                        if (arra[a].id === arra[i].id) {
                            clone++;
                            $three = arra[a].rank;
                        }
                    }
                    if (clone === 3) {

                        powerCheck(num);
                        btnTurnOnOff(arra);
                        gameComboSave = "pul";
                        return 0;
                    }
                } else if (clone === 3) {
                    $three = arra[0].rank;
                    clone = 1;
                    for (let i = 0; i < arra.length; i++) {
                        if (a === i) {
                            continue;
                        }
                        if (arra[a].id === arra[i].id) {
                            $two = arra[a].rank;
                            clone++;
                        }
                    }
                    if (clone === 2) {
                        if (gameComboSave === 'pul') {
                            for (let i = 0; i < gameArray.length; i++) {
                                if ($three < gameArray[i].rank) {
                                    alert("tanii card diilehgui bn");
                                    return 0;
                                }
                            }
                        }
                        powerCheck(num);
                        btnTurnOnOff(arra);
                        gameComboSave = "pul";
                        return 0;

                    }
                }
            }
            // <<<--- Pul End --->>>
            // <<<--- Straight Start --->>>
            if (gameComboSave === "straight") {
                player1Sort = [];
                for (let rank of arra) {
                    player1Sort.push(rank.rank);
                }
                player1Sort.sort(function(a, b) {
                    return a - b;
                });

                firstNum = player1Sort[0];
                firstNum = firstNum + 4;
                if (firstNum === player1Sort[4] && gameArray[4].rank < firstNum) {
                    powerCheck(num);
                    btnTurnOnOff(arra);
                    gameComboSave = "straight"
                    return 0;
                } else {
                    alert('tanii card diilehgui bn!!!!');
                }
            }
            // <<<--- Straight End --->>>
            // <<<--- Bongo Start --->>>
            if (gameComboSave === "bongo" || gameComboSave === "straight" || gameComboSave === "flush" || gameComboSave === "pul") {
                clone = 1;
                for (let i = 1; i < arra.length; i++) {
                    if (arra[0].rank === arra[i].rank) {
                        clone++;
                    }
                }
                if (clone === 4) {
                    powerCheck(num);
                    btnTurnOnOff(arra);
                    gameComboSave = "bongo";
                    return 0;

                } else {
                    clone = 1;
                    for (let i = 0; i < 4; i++) {
                        if (arra[4].rank === arra[i].rank) {
                            clone++;
                        }
                    }
                    if (clone === 4) {
                        powerCheck(num);
                        btnTurnOnOff(arra);
                        gameComboSave = "bongo";
                        return 0;
                    }
                }
                // <<<--- Bongo End --->>>
            }

            alert('ta buruu cardnuud oruulsan bn !!! (dahin shalagnuu)')
            btnTurnOnOffError(arra);
        } else {
            alert('ta buruu cardnuud oruulsan bn!!!');
            btnTurnOnOffError(arra);
        }

    }
    // <<<--- gameArray hooson ued --->>> 
    else {
        if (arra.length === 3) {
            clone = 1;
            for (let i = 1; i < arra.length; i++) {
                if (arra[0].id === arra[i].id) {
                    clone++;
                }
            }
            if (clone === 3) {
                powerCheck(num)
                btnTurnOnOff(arra);
                return 0;

            }
        }
        // <<<--- set End --->>>
        // <<<--- Two Start --->>>
        else if (arra.length === 2) {
            if (arra[0].id === arra[1].id) {
                powerCheck(num);
                btnTurnOnOff(arra);
                return 0;

            }
        }
        // <<<--- Two End --->>>
        // <<<--- One Start --->>>
        else if (arra.length === 1) {
            powerCheck(num);
            btnTurnOnOff(arra);
            return 0;

        }
        // <<<--- One End --->>>
        else if (arra.length === 5) {
            // <<<--- Straight flush Start --->>>
            let playerSort = [];
            for (let rank of arra) {
                playerSort.push(rank.rank);
            }
            playerSort.sort(function(a, b) {
                return a - b;
            });

            let firstNumSave = playerSort[0];
            firstNumSave = firstNumSave + 4;
            clone = 1;
            for (let i = 1; i < arra.length; i++) {
                if (arra[0].name === arra[i].name) {
                    clone++;
                }
            }
            let gameMaxNumSave = 0;
            for (let max of gameArray) {
                if (gameMaxNumSave < max.rank) {
                    gameMaxNumSave = max.rank;
                }
            }
            if (firstNumSave === playerSort[4] && clone === 5) {
                powerCheck(num);
                btnTurnOnOff(arra);
                gameComboSave = "strFlush";
                return 0;
            }

            // <<<--- Straight flush End --->>>
            // <<<--- Flush Start --->>>

            clone = 1;
            for (let i = 1; i < arra.length; i++) {
                if (arra[0].name === arra[i].name) {
                    clone++;
                }
            }
            if (clone === 5) {
                powerCheck(num);
                btnTurnOnOff(arra);
                gameComboSave = "flush";
                return 0;
            }
            // <<<--- Flush End --->>>
            // <<<--- Pul Start --->>>

            let a;
            clone = 1;
            for (let i = 1; i < arra.length; i++) {
                if (arra[0].id === arra[i].id) {
                    clone++;
                } else {
                    a = i;
                }
            }
            if (clone === 2) {
                clone = 1;
                for (let i = 0; i < arra.length; i++) {
                    if (a === i) {
                        continue;
                    }
                    if (arra[a].id === arra[i].id) {
                        clone++;
                    }
                }
                if (clone === 3) {
                    powerCheck(num);
                    btnTurnOnOff(arra);
                    gameComboSave = "pul";
                    return 0;
                }
            } else if (clone === 3) {
                clone = 1;
                for (let i = 0; i < arra.length; i++) {
                    if (a === i) {
                        continue;
                    }
                    if (arra[a].id === arra[i].id) {
                        clone++;
                    }
                }
                if (clone === 2) {
                    powerCheck(num)
                    btnTurnOnOff(arra);
                    gameComboSave = "pul";
                    return 0;

                }
            }
            // <<<--- Pul End --->>>
            // <<<--- Straight Start --->>>
            let player1Sort = [];
            for (let rank of arra) {
                player1Sort.push(rank.rank);
            }
            player1Sort.sort(function(a, b) {
                return a - b;
            });

            let firstNum = player1Sort[0];
            firstNum = firstNum + 4;
            if (firstNum === player1Sort[4]) {
                powerCheck(num);
                btnTurnOnOff(arra);
                gameComboSave = "straight";
                return 0;

            }
            // <<<--- Straight End --->>>
            // <<<--- Bongo Start --->>>
            clone = 1;
            for (let i = 1; i < arra.length; i++) {
                if (arra[0].rank === arra[i].rank) {
                    clone++;
                }
            }
            if (clone === 4) {
                powerCheck(num);
                btnTurnOnOff(arra);
                gameComboSave = "bongo";
                return 0;

            } else {
                clone = 1;
                for (let i = 0; i < 4; i++) {
                    if (arra[4].rank === arra[i].rank) {
                        clone++;
                    }
                }
                if (clone === 4) {
                    powerCheck(num);
                    btnTurnOnOff(arra);
                    gameComboSave = "bongo";
                    return 0;
                }
            }
            // <<<--- Bongo End --->>>
            alert('ta buruu cardnuud oruulsan bn !!! (dahin shalagnuu)');
            btnTurnOnOffError(arra);
        } else {
            alert('ta buruu cardnuud oruulsan bn !!! (dahin shalagnuu)')
            btnTurnOnOffError(arra);
        }
    }

};
//                  <<<--- playercheck function End --->>>

// <<<--- powerCheck Function --->>>

let powerCheck = (pUse) => {
        document.querySelector('.SleepCard').innerHTML = document.querySelector(`.player${pUse}Use`).innerHTML;
        document.querySelector(`.player${pUse}Use`).innerHTML = "";
        if (pUse === 1) {
            gameArray = player1Use;
            player1Use = [];
        } else if (pUse === 2) {
            gameArray = player2Use;
            player2Use = [];
        } else if (pUse === 3) {
            gameArray = player3Use;
            player3Use = [];
        } else if (pUse === 4) {
            gameArray = player4Use;
            player4Use = [];
        } else {
            alert('aldaa!!!!!!!');
            problem = true;
        }
    }
    // <<<--- powerCheck Function --->>>

let numCheck = ($num, $arra) => {
    if (gameArray[0].rank < $arra[0].rank) {
        powerCheck($num);
    } else if (gameArray[0].rank === $arra[0].rank) {
        if (gameArray[0].nameRank < $arra[0].nameRank) {
            powerCheck($num);
        } else {
            alert('tanii card diilehgui bn');
            problem = true;
        }
    } else {
        alert('tanii card diilehgui bn');
        problem = true;
    }
};
// <<<--- flushCheck Function --->>>

let flushCheck = ($num, $arra) => {
    if (gameArray[0].nameRank < $arra[0].nameRank) {
        powerCheck($num);
    } else if (gameArray[0].nameRank === $arra[0].nameRank) {
        if (gameArray[0].rank < $arra[0].rank) {
            powerCheck($num);
        } else {
            alert('tanii card diilehgui bn');
            problem = true;
        }
    } else {
        alert('tanii card diilehgui bn');
        problem = true;
    }
};

let btnTurnOnOff = ($arra) => {
    if (problem === true) {
        if ($arra === player1Use) {
            document.querySelector('.checkPlayer4').disabled = true;
            document.querySelector('.checkPlayer1').disabled = false;
            document.querySelector('.checkPlayer1-1').disabled = false;
            document.querySelector('.checkPlayer4-1').disabled = true;

        } else if ($arra === player2Use) {
            document.querySelector('.checkPlayer3').disabled = true;
            document.querySelector('.checkPlayer2').disabled = false;
            document.querySelector('.checkPlayer2-1').disabled = false;
            document.querySelector('.checkPlayer3-1').disabled = true;

        } else if ($arra === player3Use) {
            document.querySelector('.checkPlayer1').disabled = true;
            document.querySelector('.checkPlayer3').disabled = false;
            document.querySelector('.checkPlayer3-1').disabled = false;
            document.querySelector('.checkPlayer1-1').disabled = true;

        } else if ($arra === player4Use) {
            document.querySelector('.checkPlayer2').disabled = true;
            document.querySelector('.checkPlayer4').disabled = false;
            document.querySelector('.checkPlayer4-1').disabled = false;
            document.querySelector('.checkPlayer2-1').disabled = true;
        };
    }
}
let btnTurnOnOffError = ($arra) => {
    if ($arra === player1Use) {
        document.querySelector('.checkPlayer4').disabled = true;
        document.querySelector('.checkPlayer1').disabled = false;
        document.querySelector('.checkPlayer1-1').disabled = false;
        document.querySelector('.checkPlayer4-1').disabled = true;

    } else if ($arra === player2Use) {
        document.querySelector('.checkPlayer3').disabled = true;
        document.querySelector('.checkPlayer2').disabled = false;
        document.querySelector('.checkPlayer2-1').disabled = false;
        document.querySelector('.checkPlayer3-1').disabled = true;

    } else if ($arra === player3Use) {
        document.querySelector('.checkPlayer1').disabled = true;
        document.querySelector('.checkPlayer3').disabled = false;
        document.querySelector('.checkPlayer3-1').disabled = false;
        document.querySelector('.checkPlayer1-1').disabled = true;

    } else if ($arra === player4Use) {
        document.querySelector('.checkPlayer2').disabled = true;
        document.querySelector('.checkPlayer4').disabled = false;
        document.querySelector('.checkPlayer4-1').disabled = false;
        document.querySelector('.checkPlayer2-1').disabled = true;
    };

}